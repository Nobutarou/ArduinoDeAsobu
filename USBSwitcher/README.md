# USB 切り替え器を作ってみたい

## ver 1.0

まじめにやるなら TS3USB30EDGSR という専用のコントローラ IC を使うべきだけど、素人考えで、
信号線と電源線をつなぐだけで問題ないんじゃないかと、つまり、途中で線が変わってても、PC な
ど USB ホストコントローラ側には、そんなこと分からないんじゃないかという、舐めた考えて、た
だただ切り替えてみる。

実際に USB アナログスイッチ IC などで検索すると TS3USB30EDGSR などが出てくるが、中身を見る
とアナログスイッチのようである。秋月などで売っている一般のアナログスイッチを見ると思いのほ
かオン抵抗が大きい。100Ω単位である。こういうのが USB の邪魔になるということで存在している
IC なのではないだろうか。今回はむしろ、理想的には抵抗 0 の導線でつなぐだけなので、むしろ有
利な可能性すらあるのではないだろうか。

ミヤマの 3回路の物理なスイッチ MS-500M-B があるので、それを使ってみる。脳筋な感じが気に入った。

セルフパワーにしようかと思ったけど、出力側の USB コネクタはせいぜい 1, 2A な設計だろうから、
ここでセルフにする意味がない。セルフにするならハブ作るときにやるべきだ。

回路図はこちら

![USB 切替器 1.0 回路図](./kicad/USBSwitcher_1.0/USBSwitcher_1.0_kicad.png)


### memo (あとで消す)

USB typeB の受けはダイセン工業 C-USB-B x 2
https://www.daisen-netstore.com/shopdetail/000000000148/ct32/page1/order/

typeB ケーブルは miniB よりはんだが楽だから。

これ積み上げて VBUS, DP, DM 線をその場から XH コネクタでスイッチまで引っぱれば良いんじゃね？

USB コネクタに Omron 製があった。A & B。ちゃんと引っ掛けのあるタイプ
https://x.gd/3Nein

せっかくだから DIP化製品に頼らずにユニバーサル基板に配置する方法を考える。


